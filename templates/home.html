{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<style>
  /* ===== Global page background ===== */
  html, body { background: transparent; }
  .site-bg, .site-scrim, .site-noise {
    position: fixed; inset: 0; pointer-events: none; z-index: 0;
  }
  /* The big background media (your report) */
  .site-bg {
    overflow: hidden;
  }
  .site-bg img{
    position:absolute;
    left:50%; top:6vh;
    width:165vw; height:120vh;    /* bigger than viewport so rotation has no gaps */
    object-fit:cover;
    transform: translateX(-46%) rotate(-8deg);
    transform-origin: 50% 80%;
    border-radius: 32px;
    border: 1px solid rgba(148,163,184,.25);
    background:#0b0f1a;
    filter:
      drop-shadow(0 60px 140px rgba(0,0,0,.8))
      saturate(1.02) contrast(1.02);
    /* Fade far edges so it blends nicely */
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 65%, rgba(0,0,0,.65) 86%, rgba(0,0,0,0) 100%);
            mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 65%, rgba(0,0,0,.65) 86%, rgba(0,0,0,0) 100%);
    will-change: transform;
  }
  /* Global readability scrim over the image */
  .site-scrim{
    background:
      radial-gradient(110% 70% at 30% 0%, rgba(11,15,26,0) 0%, rgba(11,15,26,.45) 60%, rgba(11,15,26,.85) 100%),
      linear-gradient(180deg, rgba(11,15,26,.4) 0%, rgba(11,15,26,.6) 40%, rgba(11,15,26,.85) 100%);
    z-index: 1;
  }
  /* Subtle noise on top (optional) */
  .site-noise{
    background-image:url("{{ url_for('static', filename='images/noise.png') }}");
    opacity:.035; mix-blend-mode: soft-light;
    z-index: 2;
  }

  /* ===== Page shell ===== */
  .landing {
    position: relative;
    z-index: 3;             /* content sits above bg/scrims */
    display: grid;
    gap: 3rem;
    padding-bottom: 4rem;
    color: #eaf0ff;
  }
  .dark-mode .landing { color: #eaf0ff; }

  /* ===== Hero (transparent, sits on top of global bg) ===== */
  .hero--linear{
    background: linear-gradient(180deg, rgba(11,15,26,.66), rgba(11,15,26,.22) 60%, rgba(11,15,26,0));
    border:none; border-radius: 0; color:#fff;
    position:relative; overflow:visible;
    padding:clamp(3rem,6vw,5rem) clamp(1.2rem,4vw,3rem) clamp(5rem,10vw,6rem);
    isolation:isolate;
  }
  .hero--linear::before{
    content:""; position:absolute; inset:-10% -10% -20%;
    background:
      radial-gradient(60% 50% at 15% 20%, rgba(99,102,241,.20), transparent 60%),
      radial-gradient(50% 45% at 80% 10%, rgba(56,189,248,.16), transparent 60%),
      radial-gradient(60% 55% at 90% 85%, rgba(34,197,94,.12), transparent 60%);
    filter: blur(8px); z-index:-1;
  }
  .hero--linear .hero-inner{ position:relative; z-index:2; max-width: 1080px; }
  .kicker{ display:inline-flex; gap:.5rem; align-items:center; font-size:.8rem; letter-spacing:.12em; text-transform:uppercase; color:#c7d2fe; background:rgba(99,102,241,.14); border:1px solid rgba(99,102,241,.35); padding:.35rem .8rem; border-radius:999px; }
  .hero--linear h1{ font-size:clamp(2.4rem,4.5vw,3.4rem); letter-spacing:-.02em; margin:.5rem 0 .6rem; color:#fff; }
  .lead{ font-size:1.08rem; line-height:1.7; color:#d7e1ff; max-width:64ch; }
  .cta-row{ display:flex; flex-wrap:wrap; gap:.8rem; margin-top:1rem; }

  /* ===== Glass surfaces for cards/sections ===== */
  :root{
    --glass-bg: rgba(8,12,24,.58);
    --glass-border: rgba(148,163,184,.28);
    --glass-bg-light: rgba(255,255,255,.68);
  }
  .home-workflow,
  .cta,
  .founder,
  .card{
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(12px);
    box-shadow: 0 24px 60px -30px rgba(0,0,0,.55);
  }
  .card p, .workflow-steps span, .cta p, .founder p { color:#e6edff; }
  .card .icon{ background: rgba(255,255,255,.08) !important; }
  .dark-mode .card { background: var(--glass-bg); border-color: var(--glass-border); }
  @media (prefers-color-scheme: light){
    .home-workflow, .cta, .founder, .card{
      background: var(--glass-bg-light);
      border-color: rgba(148,163,184,.28);
      backdrop-filter: blur(10px);
    }
    .card p, .workflow-steps span, .cta p, .founder p { color:#243045; }
  }

  /* ===== Sections ===== */
  .section{ display:grid; gap:1.6rem; }
  .section h2{ font-size:clamp(1.6rem,2.5vw,2rem); margin:0; color:#fff; }
  .section p.sub{ color:#c7d2fe; margin:0; max-width:70ch; }

  /* Feature grid */
  .grid{ display:grid; gap:1.2rem; grid-template-columns:repeat(12,1fr); }
  .card{ grid-column:span 3; border-radius:16px; padding:1.15rem; display:grid; gap:.65rem; transition:transform .2s, box-shadow .2s; }
  .card:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(0,0,0,.35); }
  .card .icon{ width:42px; height:42px; border-radius:12px; display:inline-flex; align-items:center; justify-content:center; font-size:1.25rem; }
  .card h3{ font-size:1.05rem; margin:.1rem 0 .25rem; color:#fff; }
  .grid > a{ text-decoration:none; }
  @media (max-width:1200px){ .card{ grid-column:span 4; } }
  @media (max-width:768px){ .card{ grid-column:span 6; } }
  @media (max-width:560px){ .card{ grid-column:span 12; } }

  /* Workflow block */
  .home-workflow{ border-radius:20px; padding:clamp(1.2rem,2.5vw,1.6rem); }
  .workflow-grid{ display:grid; gap:1.4rem; grid-template-columns:1fr 1fr; }
  .workflow-steps{ list-style:none; padding:0; margin:.5rem 0 0; display:grid; gap:.6rem; }
  .workflow-steps li{ display:grid; gap:.25rem; }
  .workflow-steps strong{ font-weight:700; color:#fff; }
  @media (max-width:900px){ .workflow-grid{ grid-template-columns:1fr; } }

  /* CTA */
  .cta{ display:grid; gap:1rem; align-items:center; grid-template-columns:1fr auto; border-radius:20px; padding:clamp(1.4rem,3vw,2rem); }
  .cta h3{ margin:0; font-size:1.3rem; color:#fff; }

  /* Founder card */
  .founder{ display:grid; gap:1.2rem; grid-template-columns:72px 1fr; border-radius:18px; padding:1rem 1.2rem; align-items:center; }
  .founder img{ width:72px; height:72px; border-radius:16px; object-fit:cover; border:1px solid rgba(148,163,184,.28); background:#e2e8f0; }
  .founder h4{ margin:0; font-size:1.05rem; color:#fff; }

  /* Reveal on scroll */
  .reveal{ opacity:0; transform:translateY(12px); transition:opacity .5s ease, transform .5s ease; }
  .reveal.in{ opacity:1; transform:translateY(0); }

  @media (prefers-reduced-motion: reduce){
    .site-bg img{ transform: translateX(-46%) rotate(-6deg) !important; }
  }
</style>

<!-- Global background (behind everything) -->
<div class="site-bg">
  <img src="{{ url_for('static', filename='images/report-full.webp') }}" alt="" aria-hidden="true" />
</div>
<div class="site-scrim" aria-hidden="true"></div>
<div class="site-noise" aria-hidden="true"></div>

<div class="landing">
  <!-- ===== HERO ===== -->
  <section class="hero--linear">
    <div class="hero-inner">
      <span class="kicker"><i class="bi bi-lightning-charge-fill"></i> Built for Valorant coaches</span>
      <h1>Operate faster with one<br/>scouting operating system</h1>
      <p class="lead">ValoHub unifies scrims, analytics, strategic reports and draft tools. Prep match weeks faster and win more vetoes.</p>
      <div class="cta-row">
        <a href="{{ url_for('signup') }}" class="th-btn th-btn-primary"><i class="bi bi-person-plus"></i> Start building</a>
        <a href="{{ url_for('analytical') }}" class="th-btn th-btn-secondary">New: Analytical Reports&nbsp;→</a>
      </div>
    </div>
  </section>

  <!-- ===== FEATURES ===== -->
  <section class="section">
    <h2 class="reveal">Everything you need to prep</h2>
    <p class="sub reveal">Navigate all core tools from one place. Clean cards, clear actions, fast navigation.</p>
    <div class="grid">
      <a class="card reveal" href="/scrims" style="--icon:#60a5fa">
        <span class="icon" style="background: rgba(96,165,250,.18); color:#60a5fa"><i class="bi bi-calendar-event"></i></span>
        <h3>Scrims</h3>
        <p>Track winrates, pistol splits and trends by month or custom ranges.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Open Scrims</span>
      </a>
      <a class="card reveal" href="/strategic_reports" style="--icon:#34d399">
        <span class="icon" style="background: rgba(34,197,94,.18); color:#34d399"><i class="bi bi-flag-fill"></i></span>
        <h3>Strategic Reports</h3>
        <p>Opponent breakdowns with comfort maps, tendencies and threat assessments.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">View Strategic</span>
      </a>
      <a class="card reveal" href="/analytical_reports" style="--icon:#a78bfa">
        <span class="icon" style="background: rgba(167,139,250,.18); color:#a78bfa"><i class="bi bi-bar-chart-steps"></i></span>
        <h3>Analytical Reports</h3>
        <p>Compare form across scrims, events and roster KPIs with shareable outputs.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Open Analytical</span>
      </a>
      <a class="card reveal" href="/stats" style="--icon:#f59e0b">
        <span class="icon" style="background: rgba(245,158,11,.18); color:#f59e0b"><i class="bi bi-graph-up-arrow"></i></span>
        <h3>Stats</h3>
        <p>Filter by player, agent, event or team to surface advanced metrics in seconds.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Dive into Stats</span>
      </a>
      <a class="card reveal" href="/map-rankings" style="--icon:#22d3ee">
        <span class="icon" style="background: rgba(34,211,238,.18); color:#22d3ee"><i class="bi bi-map"></i></span>
        <h3>Map Rankings</h3>
        <p>Evaluate map win rates, side splits and trendlines to support veto decisions.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">See Rankings</span>
      </a>
      <a class="card reveal" href="/pick&bans" style="--icon:#ef4444">
        <span class="icon" style="background: rgba(239,68,68,.18); color:#ef4444"><i class="bi bi-layers"></i></span>
        <h3>Pick &amp; Bans</h3>
        <p>Test veto scenarios, lock orders and share drafts with the staff.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Run Drafts</span>
      </a>
      <a class="card reveal" href="/rankeds" style="--icon:#06b6d4">
        <span class="icon" style="background: rgba(6,182,212,.18); color:#06b6d4"><i class="bi bi-controller"></i></span>
        <h3>Rankeds</h3>
        <p>Track individual ranked form. Spot surges, slumps and agents trending up.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Review Rankeds</span>
      </a>
      <a class="card reveal" href="/search" style="--icon:#10b981">
        <span class="icon" style="background: rgba(16,185,129,.18); color:#10b981"><i class="bi bi-person-lines-fill"></i></span>
        <h3>Agents</h3>
        <p>Search the global agent pool, cross-check rosters and prep emergency subs.</p>
        <span class="feature-link th-btn th-btn-secondary" style="margin-top:.35rem;width:fit-content">Search Agents</span>
      </a>
    </div>
  </section>

  <!-- ===== WORKFLOW ===== -->
  <section class="section">
    <div class="home-workflow reveal">
      <div class="workflow-grid">
        <div>
          <h3 style="color:#fff">Workflow</h3>
          <ul class="workflow-steps">
            <li><strong>Plan scrims</strong><span>Align schedules and scouting priorities by month or custom windows.</span></li>
            <li><strong>Run analytics</strong><span>Generate analytical reports to review form and progress.</span></li>
            <li><strong>Scout opponents</strong><span>Use strategic reports to understand tendencies and threats.</span></li>
            <li><strong>Draft veto</strong><span>Stress-test pick & bans scenarios and lock a winning order.</span></li>
          </ul>
        </div>
        <div>
          <h3 style="color:#fff">Why it’s fast</h3>
          <ul class="workflow-steps">
            <li><strong>All-in-one</strong><span>No app switching. Every tool is one click away.</span></li>
            <li><strong>Clean UI</strong><span>Minimal noise, high contrast, responsive and dark-mode ready.</span></li>
            <li><strong>Shareable</strong><span>Export or share links for staff sync.</span></li>
            <li><strong>Secure</strong><span>Session-protected areas for team-only workflows.</span></li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== FOUNDER NOTE ===== -->
  <section class="section">
    <div class="founder reveal">
      <img src="{{ url_for('static', filename='images/founder.jpg') }}" alt="Pablo López Araúzo" />
      <div>
        <h4>Hi—I'm Pablo López Araúzo, founder of ValoHub</h4>
        <p>I built these tools while working as a Valorant analyst (Team Heretics) to speed up weekly prep: live analytics, clean strategic PDFs, and practical draft helpers. Now I’m opening the toolkit so any staff can prep faster, align better, and win more vetoes.</p>
        <div class="cta-row" style="margin-top:.6rem">
          <a href="{{ url_for('signup') }}" class="th-btn th-btn-primary"><i class="bi bi-person-plus"></i> Start free</a>
          <a href="{{ url_for('analytical') }}" class="th-btn th-btn-secondary"><i class="bi bi-bar-chart-steps"></i> Generate a sample report</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CTA ===== -->
  <section class="cta reveal">
    <div>
      <h3>Ready to get started?</h3>
      <p>Create your account in minutes. Start free and upgrade when you need more seats or features.</p>
    </div>
    <div class="d-flex gap-2 flex-wrap">
      <a href="{{ url_for('signup') }}" class="th-btn th-btn-primary"><i class="bi bi-person-plus"></i> Sign up free</a>
      <a href="{{ url_for('pricing') }}" class="th-btn th-btn-secondary"><i class="bi bi-bag-check"></i> View pricing</a>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <section class="home-footer reveal">
    <strong>Need something custom? Reach out.</strong>
    <div class="contact-links">
      <a href="mailto:pablo@teamheretics.com"><i class="bi bi-envelope"></i><span>pablolopezarauzo@teamheretics.com</span></a>
      <a href="https://twitter.com/xpablolo" target="_blank" rel="noopener"><i class="bi bi-twitter-x"></i><span>@xpablolo</span></a>
    </div>
    <small>By using this dashboard you agree to the usual cookies &amp; data policies applied across the staff tools.</small>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    /* Reveal on view */
    const io = new IntersectionObserver((entries) => {
      for (const e of entries) { if (e.isIntersecting) { e.target.classList.add('in'); io.unobserve(e.target); } }
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    /* Parallax for the global background (subtle) */
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const bgImg = document.querySelector('.site-bg img');
    if (bgImg && !prefersReduced) {
      let ticking = false;
      const onScroll = () => {
        if (ticking) return;
        ticking = true;
        requestAnimationFrame(() => {
          const y = (window.scrollY || 0) / 12;   // lower = slower
          bgImg.style.transform = `translateX(-46%) translateY(${Math.round(y)}px) rotate(-8deg)`;
          ticking = false;
        });
      };
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();
    }
  });
</script>
{% endblock %}
